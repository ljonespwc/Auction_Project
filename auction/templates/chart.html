{% extends "base.html" %}
{% block title %}AuctionTracker Chart{% endblock %}

{% block content %}
<canvas id="myChart"></canvas>
<script>

  var auctionyear = {{auctionyear|safe}};
  var price = {{price|safe}};

  const labels = auctionyear;

  const data = {
    labels: auctionyear,
    datasets: [
        {
          label: "Porsche 911 GT3 Prices",
          data: price,
          fill: true,
          borderColor: 'rgb(75, 192, 192)',
          borderWidth: 5,
          tension: 0.2
        }
    ]
  };

  const config = {
    type: 'line',
    data: data,
    options: {
      responsive: true,
      scales: {
        x: {
          grid: {
            display: false,
            drawTicks: true
          }
        },
        y: {
            grid: {
              display: false,
              drawTicks: true
            },
            ticks: {
                // Include a dollar sign in the ticks
                callback: function(value, index, ticks) {
                    return '$' + value;
                }
            }
        }
      }
    }
  };
</script>

<script>
  const myChart = new Chart(
    document.getElementById('myChart'),
    config
  );
</script>
{% endblock %}